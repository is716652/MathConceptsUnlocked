---
description: 
alwaysApply: true
enabled: true
updatedAt: 2025-11-16T14:30:43.433Z
provider: 
---

# ArkTS ä»£ç è§„èŒƒ

## æ ¸å¿ƒé™åˆ¶è§„åˆ™

### ğŸš« ä¸¥æ ¼ç¦æ­¢ä½¿ç”¨

#### 1. ç±»å‹ç³»ç»Ÿç¦ç”¨é¡¹
- âŒ `any` ç±»å‹
- âŒ `unknown` ç±»å‹
- âŒ ç´¢å¼•ç­¾åï¼š`[key: string]: T`
- âŒ å†…è”å¯¹è±¡å­—é¢é‡ç±»å‹ï¼š`{ name: string, age: number }`

#### 2. è¯­æ³•ç‰¹æ€§ç¦ç”¨é¡¹
- âŒ è§£æ„èµ‹å€¼ï¼š`const [a, b] = array`ã€`const {x, y} = obj`
- âŒ å±•å¼€è¿ç®—ç¬¦ï¼š`...array`ã€`...object`
- âŒ å¯é€‰é“¾æ“ä½œç¬¦ï¼š`obj?.property`
- âŒ ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼š`value ?? defaultValue`
- âŒ `for...in` å¾ªç¯ï¼ˆç”¨äºå¯¹è±¡ï¼‰
- âŒ `for...of` å¾ªç¯ï¼ˆç”¨äºå¯¹è±¡ï¼‰
- âŒ åŠ¨æ€å±æ€§è®¿é—®ï¼š`obj[key]`

#### 3. é™æ€ä¸Šä¸‹æ–‡é™åˆ¶
- âŒ é™æ€æ–¹æ³•ä¸­ä½¿ç”¨ `this` è®¿é—®é™æ€æˆå‘˜

## âœ… æ­£ç¡®çš„ç¼–ç æ–¹å¼

### 1. ç±»å‹å®šä¹‰

```typescript
// âœ… ä½¿ç”¨æ˜ç¡®çš„æ¥å£å®šä¹‰
interface User {
  name: string;
  age: number;
  email: string;
}

// âœ… å‡½æ•°å‚æ•°å’Œè¿”å›å€¼éƒ½æœ‰æ˜ç¡®ç±»å‹
function createUser(name: string, age: number): User {
  return { name: name, age: age, email: "" };
}

// âœ… å˜é‡å£°æ˜æœ‰æ˜ç¡®ç±»å‹
const user: User = createUser("å¼ ä¸‰", 25);
```

### 2. å¯¹è±¡æ“ä½œ

```typescript
// âœ… ä½¿ç”¨ Map æ›¿ä»£åŠ¨æ€å¯¹è±¡
const dataMap = new Map<string, string>();
dataMap.set("key1", "value1");
const value = dataMap.get("key1");

// âœ… ä½¿ç”¨ Record ç±»å‹
type StringRecord = Record<string, string>;
const config: StringRecord = {
  apiUrl: "https://api.example.com",
  timeout: "5000"
};

// âœ… ä½¿ç”¨ switch è¯­å¥è¿›è¡Œå±æ€§è®¿é—®
function getProperty(obj: User, key: string): string | number {
  switch (key) {
    case "name":
      return obj.name;
    case "age":
      return obj.age;
    case "email":
      return obj.email;
    default:
      throw new Error(`Unknown property: ${key}`);
  }
}
```

### 3. å¾ªç¯éå†

```typescript
// âœ… ä½¿ç”¨ä¼ ç»Ÿ for å¾ªç¯éå†å¯¹è±¡
const obj = { a: 1, b: 2, c: 3 };
const keys = Object.keys(obj);
for (let i = 0; i < keys.length; i++) {
  const key = keys[i];
  console.log(key, obj[key as keyof typeof obj]);
}

// âœ… æ•°ç»„å¯ä»¥ä½¿ç”¨ for...of
const arr = [1, 2, 3];
for (const item of arr) {
  console.log(item);
}
```

### 4. æ•°ç»„å’Œå¯¹è±¡æ“ä½œ

```typescript
// âœ… æ›¿ä»£è§£æ„èµ‹å€¼
const first = array[0];
const second = array[1];

// âœ… æ›¿ä»£å±•å¼€è¿ç®—ç¬¦ - æ•°ç»„åˆå¹¶
const newArray: number[] = [];
for (let i = 0; i < oldArray.length; i++) {
  newArray.push(oldArray[i]);
}
newArray.push(newItem);

// âœ… æ›¿ä»£å±•å¼€è¿ç®—ç¬¦ - å¯¹è±¡åˆå¹¶
const combined: CombinedType = {
  prop1: obj1.prop1,
  prop2: obj2.prop2
};

// âœ… æ•°ç»„å…‹éš†å·¥å…·æ–¹æ³•
class ArrayUtils {
  static clone<T>(source: T[]): T[] {
    const result: T[] = [];
    for (let i = 0; i < source.length; i++) {
      result.push(source[i]);
    }
    return result;
  }
}
```

### 5. å¯é€‰å€¼å¤„ç†

```typescript
// âœ… æ›¿ä»£å¯é€‰é“¾
let value: string | undefined;
if (obj && obj.prop && obj.prop.subProp) {
  value = obj.prop.subProp;
}

// âœ… æ›¿ä»£ç©ºå€¼åˆå¹¶
let result: string;
if (value !== null && value !== undefined) {
  result = value;
} else {
  result = defaultValue;
}
```

### 6. é™æ€æ–¹æ³•

```typescript
// âœ… é™æ€æ–¹æ³•ä¸­ä½¿ç”¨ç±»åè®¿é—®é™æ€æˆå‘˜
class DataManager {
  private static data: string[] = [];
  
  static addItem(item: string): void {
    DataManager.data.push(item); // ä½¿ç”¨ç±»åè€Œé this
  }
  
  static processData(): void {
    DataManager.addItem("processed"); // è°ƒç”¨é™æ€æ–¹æ³•ä¹Ÿç”¨ç±»å
  }
  
  static getData(): string[] {
    return DataManager.data;
  }
}
```

## å®ç”¨å·¥å…·ç±»æ¨¡æ¿

### æ•°ç»„æ“ä½œå·¥å…·

```typescript
class ArrayUtils {
  static clone<T>(source: T[]): T[] {
    const result: T[] = [];
    for (let i = 0; i < source.length; i++) {
      result.push(source[i]);
    }
    return result;
  }
  
  static find<T>(items: T[], predicate: (item: T) => boolean): T | undefined {
    for (let i = 0; i < items.length; i++) {
      if (predicate(items[i])) {
        return items[i];
      }
    }
    return undefined;
  }
}
```

### å¯¹è±¡æ“ä½œå·¥å…·

```typescript
class ObjectUtils {
  static merge<T>(target: T, source: Partial<T>): T {
    const keys = Object.keys(source) as (keyof T)[];
    for (let i = 0; i < keys.length; i++) {
      const key = keys[i];
      const sourceValue = source[key];
      if (sourceValue !== undefined) {
        target[key] = sourceValue;
      }
    }
    return target;
  }
}
```

## ä»£ç æ£€æŸ¥æ¸…å•

åœ¨æäº¤ä»£ç å‰ç¡®è®¤ï¼š

- [ ] æ‰€æœ‰ç±»å‹éƒ½æ˜ç¡®å®šä¹‰ï¼ˆæ—  `any`/`unknown`ï¼‰
- [ ] æ‰€æœ‰å¯¹è±¡éƒ½æœ‰æ¥å£å®šä¹‰
- [ ] æ²¡æœ‰ä½¿ç”¨ç´¢å¼•ç­¾å
- [ ] æ²¡æœ‰ä½¿ç”¨å†…è”å¯¹è±¡ç±»å‹
- [ ] æ²¡æœ‰ä½¿ç”¨è§£æ„èµ‹å€¼
- [ ] æ²¡æœ‰ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦
- [ ] æ²¡æœ‰ä½¿ç”¨å¯é€‰é“¾ `?.`
- [ ] æ²¡æœ‰ä½¿ç”¨ç©ºå€¼åˆå¹¶ `??`
- [ ] å¯¹è±¡éå†ä½¿ç”¨ä¼ ç»Ÿ for å¾ªç¯
- [ ] æ²¡æœ‰åŠ¨æ€å±æ€§è®¿é—® `obj[key]`
- [ ] é™æ€æ–¹æ³•ä½¿ç”¨ç±»åè°ƒç”¨
- [ ] æ‰€æœ‰å‡½æ•°æœ‰è¿”å›ç±»å‹æ³¨è§£

## AI ä»£ç ç”Ÿæˆè§„åˆ™

AI åœ¨ç”Ÿæˆ ArkTS ä»£ç æ—¶å¿…é¡»ï¼š

1. **ç±»å‹ä¼˜å…ˆ**ï¼šæ‰€æœ‰å˜é‡ã€å‚æ•°ã€è¿”å›å€¼éƒ½æœ‰æ˜ç¡®ç±»å‹
2. **æ¥å£å®šä¹‰**ï¼šå¤æ‚å¯¹è±¡å…ˆå®šä¹‰æ¥å£ï¼Œåä½¿ç”¨
3. **é¿å…ç¦ç”¨è¯­æ³•**ï¼šä¸¥æ ¼éµå®ˆç¦ç”¨è§„åˆ™
4. **ä½¿ç”¨å·¥å…·ç±»**ï¼šä¼˜å…ˆä½¿ç”¨æ ‡å‡†å·¥å…·ç±»æ–¹æ³•
5. **æ˜¾å¼æ“ä½œ**ï¼šç”¨æ˜¾å¼ä»£ç æ›¿ä»£è¯­æ³•ç³–
6. **æ€§èƒ½è€ƒè™‘**ï¼šé¿å…ä¸å¿…è¦çš„å¯¹è±¡åˆ›å»º

## å¸¸è§é”™è¯¯ä¿®å¤æ¨¡å¼

### åŠ¨æ€å±æ€§è®¿é—® â†’ Switch è¯­å¥
```typescript
// âŒ é”™è¯¯
const value = obj[key];

// âœ… æ­£ç¡®
let value: ValueType;
switch (key) {
  case "prop1": value = obj.prop1; break;
  case "prop2": value = obj.prop2; break;
  default: value = defaultValue;
}
```

### å±•å¼€è¿ç®—ç¬¦ â†’ æ˜¾å¼å¤åˆ¶
```typescript
// âŒ é”™è¯¯
const newArr = [...oldArr, newItem];

// âœ… æ­£ç¡®
const newArr: ItemType[] = [];
for (let i = 0; i < oldArr.length; i++) {
  newArr.push(oldArr[i]);
}
newArr.push(newItem);
```

### è§£æ„èµ‹å€¼ â†’ é€ä¸ªèµ‹å€¼
```typescript
// âŒ é”™è¯¯
const [first, second] = array;
const {name, age} = user;

// âœ… æ­£ç¡®
const first = array[0];
const second = array[1];
const name = user.name;
const age = user.age;
```