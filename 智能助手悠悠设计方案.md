# ğŸ¤– æ™ºèƒ½åŠ©æ‰‹"æ‚ æ‚ "è®¾è®¡æ–¹æ¡ˆ

## ğŸ“Œ é¡¹ç›®èƒŒæ™¯
æ•°å­¦æ¦‚å¿µè§£é”APPåŒ…å«62ä¸ªçŸ¥è¯†é¡µé¢ï¼Œæ¶µç›–ï¼š
- å‡½æ•°ä¸æé™ï¼ˆ13ä¸ªé¡µé¢ï¼‰
- å¯¼æ•°ä¸å¾®åˆ†ï¼ˆ9ä¸ªé¡µé¢ï¼‰
- ä¸å®šç§¯åˆ†ï¼ˆ9ä¸ªé¡µé¢ï¼‰
- å®šç§¯åˆ†ï¼ˆ8ä¸ªé¡µé¢ï¼‰
- çº§æ•°ï¼ˆ8ä¸ªé¡µé¢ï¼‰
- å¾®åˆ†æ–¹ç¨‹ï¼ˆ8ä¸ªé¡µé¢ï¼‰
- ç»¼åˆç»ƒä¹ é¢˜ï¼ˆ80+é“ï¼‰

**ç›®æ ‡**ï¼šè®¾è®¡æ™ºèƒ½åŠ©æ‰‹"æ‚ æ‚ "ï¼Œåˆ©ç”¨APPç°æœ‰å†…å®¹ä½œä¸ºçŸ¥è¯†åº“ï¼Œæä¾›æ™ºèƒ½ç­”ç–‘ã€å­¦ä¹ å¼•å¯¼ã€ç»ƒä¹ è¾…å¯¼ç­‰åŠŸèƒ½ã€‚

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½è®¾è®¡

### 1. æ™ºèƒ½é—®ç­”
- **æ¦‚å¿µè§£é‡Š**ï¼šç”¨æˆ·é—®"ä»€ä¹ˆæ˜¯å¯¼æ•°"ï¼Œæ‚ æ‚ ä»çŸ¥è¯†åº“æå–ç›¸å…³å†…å®¹
- **å…¬å¼æŸ¥è¯¢**ï¼šç”¨æˆ·é—®"æ±‚å¯¼å…¬å¼"ï¼Œè¿”å›åŸºæœ¬å…¬å¼é¡µé¢å†…å®¹
- **è§£é¢˜æŒ‡å¯¼**ï¼šè¯†åˆ«é¢˜ç›®ç±»å‹ï¼Œç»™å‡ºè§£é¢˜æ€è·¯å’Œæ­¥éª¤
- **é”™è¯¯çº æ­£**ï¼šåˆ†æç”¨æˆ·è§£é¢˜é”™è¯¯ï¼Œç»™å‡ºæ­£ç¡®æ–¹æ³•

### 2. å­¦ä¹ è·¯å¾„è§„åˆ’
- **çŸ¥è¯†å›¾è°±å¯¼èˆª**ï¼šæ ¹æ®ç”¨æˆ·æ°´å¹³æ¨èå­¦ä¹ è·¯å¾„
- **è–„å¼±ç‚¹åˆ†æ**ï¼šåŸºäºç­”é¢˜è®°å½•è¯†åˆ«è–„å¼±ç« èŠ‚
- **ä¸ªæ€§åŒ–æ¨è**ï¼šæ¨èç›¸å…³ä¾‹é¢˜å’Œç»ƒä¹ 

### 3. ç»ƒä¹ è¾…å¯¼
- **é¢˜ç›®è§£æ**ï¼šå¯¹APPå†…80+é“ç»ƒä¹ é¢˜æä¾›è¯¦ç»†è§£æ
- **æ­¥éª¤æ‹†è§£**ï¼šå°†å¤æ‚é¢˜ç›®åˆ†æ­¥è®²è§£
- **ä¸¾ä¸€åä¸‰**ï¼šåŸºäºå½“å‰é¢˜ç›®æ¨èç›¸ä¼¼é¢˜ç›®

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„ï¼ˆä¸‰ç§æ–¹æ¡ˆï¼‰

### æ–¹æ¡ˆä¸€ï¼šæœ¬åœ°çŸ¥è¯†åº“ + è§„åˆ™åŒ¹é… â­æ¨è
**ä¼˜ç‚¹**ï¼šå®Œå…¨ç¦»çº¿ã€å“åº”å¿«ã€æ— æˆæœ¬ã€éšç§å®‰å…¨
**ç¼ºç‚¹**ï¼šéœ€è¦äººå·¥ç¼–å†™è§„åˆ™ã€æ™ºèƒ½ç¨‹åº¦æœ‰é™

#### å®ç°æ­¥éª¤

**ç¬¬ä¸€æ­¥ï¼šæ„å»ºçŸ¥è¯†åº“JSON**

```typescript
// entry/src/main/ets/data/KnowledgeBase.ets
export interface KnowledgeItem {
  id: string;
  title: string;
  keywords: string[];  // å…³é”®è¯åŒ¹é…
  category: string;    // åˆ†ç±»
  content: string;     // æ ¸å¿ƒå†…å®¹
  relatedIds: string[]; // ç›¸å…³çŸ¥è¯†ç‚¹
  examples: string[];  // ä¾‹é¢˜
  exercises: string[]; // ç»ƒä¹ é¢˜
}

export const knowledgeBase: KnowledgeItem[] = [
  {
    id: "derivative_concept",
    title: "å¯¼æ•°çš„æ¦‚å¿µ",
    keywords: ["å¯¼æ•°", "å¯¼å‡½æ•°", "å¾®åˆ†", "dy/dx", "f'(x)", "æé™"],
    category: "å¯¼æ•°ä¸å¾®åˆ†",
    content: `å¯¼æ•°æè¿°å‡½æ•°çš„å˜åŒ–ç‡ã€‚å®šä¹‰ï¼š
      f'(x) = lim[Î”xâ†’0] (f(x+Î”x)-f(x))/Î”x
      
      å‡ ä½•æ„ä¹‰ï¼šåˆ‡çº¿æ–œç‡
      ç‰©ç†æ„ä¹‰ï¼šç¬æ—¶é€Ÿåº¦`,
    relatedIds: ["derivative_geometric", "derivative_formulas"],
    examples: [
      "æ±‚f(x)=xÂ²åœ¨x=1å¤„çš„å¯¼æ•°",
      "è¯æ˜(sin x)' = cos x"
    ],
    exercises: ["exercise_derivative_01", "exercise_derivative_02"]
  },
  {
    id: "limit_concept",
    title: "æé™çš„æ¦‚å¿µ",
    keywords: ["æé™", "lim", "è¶‹è¿‘", "æ— ç©·", "Îµ-Î´"],
    category: "å‡½æ•°ä¸æé™",
    content: `æé™æè¿°å‡½æ•°çš„è¶‹åŠ¿ã€‚
      å½“xâ†’xâ‚€æ—¶ï¼Œf(x)â†’Aï¼Œè®°ä½œlim[xâ†’xâ‚€]f(x)=A
      
      é‡è¦æé™ï¼š
      1. lim[xâ†’0] sin(x)/x = 1
      2. lim[xâ†’âˆ] (1+1/x)^x = e`,
    relatedIds: ["limit_operations", "limit_criteria"],
    examples: [],
    exercises: []
  }
  // ... æ ¹æ®62ä¸ªé¡µé¢å†…å®¹é€ä¸€æ„å»º
];
```

**ç¬¬äºŒæ­¥ï¼šè‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆç®€åŒ–ç‰ˆï¼‰**

```typescript
// entry/src/main/ets/utils/NLPUtils.ets
export class NLPUtils {
  // åˆ†è¯ï¼ˆç®€å•æŒ‰ç©ºæ ¼å’Œæ ‡ç‚¹åˆ†å‰²ï¼‰
  static tokenize(text: string): string[] {
    const result: string[] = [];
    const tokens = text.split(/[\s,ï¼Œã€‚ï¼Ÿï¼?!ï¼›;ã€]+/);
    for (let i = 0; i < tokens.length; i++) {
      if (tokens[i].length > 0) {
        result.push(tokens[i]);
      }
    }
    return result;
  }

  // æå–æ•°å­¦å…³é”®è¯
  static extractMathKeywords(text: string): string[] {
    const mathTerms = [
      "å¯¼æ•°", "ç§¯åˆ†", "æé™", "å¾®åˆ†", "çº§æ•°", "æ–¹ç¨‹",
      "è¿ç»­", "å¯å¯¼", "æ”¶æ•›", "å‘æ•£", "å‡½æ•°", "æ±‚å¯¼",
      "å®šç§¯åˆ†", "ä¸å®šç§¯åˆ†", "æ³°å‹’", "å‚…é‡Œå¶", "é½æ¬¡"
    ];
    
    const tokens = NLPUtils.tokenize(text);
    const keywords: string[] = [];
    
    for (let i = 0; i < tokens.length; i++) {
      for (let j = 0; j < mathTerms.length; j++) {
        if (tokens[i].indexOf(mathTerms[j]) >= 0) {
          keywords.push(mathTerms[j]);
          break;
        }
      }
    }
    return keywords;
  }

  // è¯†åˆ«é—®é¢˜ç±»å‹
  static detectQuestionType(text: string): string {
    if (text.indexOf("ä»€ä¹ˆ") >= 0 || text.indexOf("å®šä¹‰") >= 0) {
      return "concept"; // æ¦‚å¿µè¯¢é—®
    }
    if (text.indexOf("æ€ä¹ˆ") >= 0 || text.indexOf("å¦‚ä½•") >= 0 || text.indexOf("æ±‚") >= 0) {
      return "method"; // æ–¹æ³•è¯¢é—®
    }
    if (text.indexOf("å…¬å¼") >= 0 || text.indexOf("ç­‰äº") >= 0) {
      return "formula"; // å…¬å¼æŸ¥è¯¢
    }
    if (text.indexOf("ä¾‹é¢˜") >= 0 || text.indexOf("ä¾‹å­") >= 0) {
      return "example"; // ä¾‹é¢˜è¯·æ±‚
    }
    if (text.indexOf("ç»ƒä¹ ") >= 0 || text.indexOf("ä¹ é¢˜") >= 0) {
      return "exercise"; // ç»ƒä¹ è¯·æ±‚
    }
    return "general";
  }
}
```

**ç¬¬ä¸‰æ­¥ï¼šæ™ºèƒ½æœç´¢å¼•æ“**

```typescript
// entry/src/main/ets/services/YouyouService.ets
import { knowledgeBase, KnowledgeItem } from '../data/KnowledgeBase';
import { NLPUtils } from '../utils/NLPUtils';

export interface SearchResult {
  item: KnowledgeItem;
  score: number; // ç›¸å…³åº¦åˆ†æ•°
}

export class YouyouService {
  // æœç´¢çŸ¥è¯†åº“
  static search(query: string): SearchResult[] {
    const keywords = NLPUtils.extractMathKeywords(query);
    const questionType = NLPUtils.detectQuestionType(query);
    const results: SearchResult[] = [];
    
    for (let i = 0; i < knowledgeBase.length; i++) {
      const item = knowledgeBase[i];
      let score = 0;
      
      // å…³é”®è¯åŒ¹é…
      for (let j = 0; j < keywords.length; j++) {
        for (let k = 0; k < item.keywords.length; k++) {
          if (item.keywords[k].indexOf(keywords[j]) >= 0 ||
              keywords[j].indexOf(item.keywords[k]) >= 0) {
            score = score + 10;
          }
        }
      }
      
      // æ ‡é¢˜åŒ¹é…
      for (let j = 0; j < keywords.length; j++) {
        if (item.title.indexOf(keywords[j]) >= 0) {
          score = score + 15;
        }
      }
      
      if (score > 0) {
        results.push({ item: item, score: score });
      }
    }
    
    // æŒ‰åˆ†æ•°æ’åº
    results.sort((a: SearchResult, b: SearchResult) => b.score - a.score);
    return results;
  }

  // ç”Ÿæˆå›ç­”
  static generateAnswer(query: string): string {
    const results = YouyouService.search(query);
    const questionType = NLPUtils.detectQuestionType(query);
    
    if (results.length === 0) {
      return "æŠ±æ­‰ï¼Œæ‚ æ‚ æ²¡æœ‰æ‰¾åˆ°ç›¸å…³å†…å®¹ã€‚ä½ å¯ä»¥å°è¯•ï¼š\nâ€¢ æŸ¥çœ‹çŸ¥è¯†ç›®å½•\nâ€¢ æ¢ä¸€ç§è¡¨è¿°æ–¹å¼\nâ€¢ æä¾›æ›´å¤šå…³é”®è¯";
    }
    
    const topResult = results[0].item;
    let answer = "";
    
    if (questionType === "concept") {
      answer = `ğŸ“– å…³äº"${topResult.title}"ï¼š\n\n${topResult.content}`;
    } else if (questionType === "example") {
      answer = `ğŸ“ "${topResult.title}"çš„ä¾‹é¢˜ï¼š\n\n`;
      for (let i = 0; i < topResult.examples.length; i++) {
        answer = answer + `${i + 1}. ${topResult.examples[i]}\n`;
      }
    } else if (questionType === "exercise") {
      answer = `ğŸ¯ ç»ƒä¹ é¢˜æ¨èï¼š\n\n`;
      for (let i = 0; i < topResult.exercises.length; i++) {
        answer = answer + `${i + 1}. ${topResult.exercises[i]}\n`;
      }
    } else {
      answer = topResult.content;
    }
    
    // æ·»åŠ ç›¸å…³æ¨è
    if (topResult.relatedIds.length > 0) {
      answer = answer + "\n\nğŸ’¡ ç›¸å…³çŸ¥è¯†ç‚¹ï¼š";
      for (let i = 0; i < topResult.relatedIds.length; i++) {
        const relatedItem = knowledgeBase.find(item => item.id === topResult.relatedIds[i]);
        if (relatedItem) {
          answer = answer + `\nâ€¢ ${relatedItem.title}`;
        }
      }
    }
    
    return answer;
  }
}
```

**ç¬¬å››æ­¥ï¼šUIç•Œé¢è®¾è®¡**

```typescript
// entry/src/main/ets/pages/Youyou/YouyouChat.ets
import router from '@ohos.router';
import { YouyouService } from '../../services/YouyouService';

interface Message {
  id: number;
  type: string; // 'user' | 'youyou'
  content: string;
  timestamp: number;
}

@Entry
@Component
struct YouyouChat {
  @State messages: Message[] = [
    {
      id: 1,
      type: 'youyou',
      content: 'ä½ å¥½ï¼æˆ‘æ˜¯æ™ºèƒ½åŠ©æ‰‹æ‚ æ‚  ğŸ¤–\n\næˆ‘å¯ä»¥å¸®ä½ ï¼š\nâ€¢ è§£ç­”æ•°å­¦æ¦‚å¿µ\nâ€¢ æŸ¥æ‰¾å…¬å¼å®šç†\nâ€¢ è®²è§£ä¾‹é¢˜\nâ€¢ æ¨èç»ƒä¹ é¢˜\n\nè¯•ç€é—®æˆ‘é—®é¢˜å§ï¼',
      timestamp: Date.now()
    }
  ];
  @State inputText: string = '';
  private scroller: Scroller = new Scroller();

  build() {
    Column() {
      // é¡¶éƒ¨æ 
      Row() {
        Button('â† è¿”å›')
          .fontSize(14)
          .fontColor('#3F51B5')
          .backgroundColor('#F0F0F0')
          .borderRadius(8)
          .padding({ left: 12, right: 12, top: 6, bottom: 6 })
          .onClick(() => router.back())

        Row() {
          Image($r('app.media.youyou_avatar')) // æ‚ æ‚ å¤´åƒ
            .width(32)
            .height(32)
            .borderRadius(16)
            .margin({ right: 8 })
          
          Column() {
            Text('æ™ºèƒ½åŠ©æ‰‹ æ‚ æ‚ ')
              .fontSize(16)
              .fontWeight(FontWeight.Bold)
            Text('åœ¨çº¿')
              .fontSize(12)
              .fontColor('#4CAF50')
          }
          .alignItems(HorizontalAlign.Start)
        }
        .layoutWeight(1)
        .margin({ left: 12 })
      }
      .width('100%')
      .padding(12)
      .backgroundColor('#FFFFFF')
      .shadow({ radius: 2, color: '#10000000', offsetY: 1 })

      // èŠå¤©æ¶ˆæ¯åŒº
      Scroll(this.scroller) {
        Column({ space: 12 }) {
          ForEach(this.messages, (msg: Message) => {
            if (msg.type === 'user') {
              // ç”¨æˆ·æ¶ˆæ¯ï¼ˆå³ä¾§ï¼‰
              Row() {
                Text(msg.content)
                  .fontSize(15)
                  .padding(12)
                  .backgroundColor('#2196F3')
                  .fontColor('#FFFFFF')
                  .borderRadius(12)
                  .maxLines(100)
              }
              .width('100%')
              .justifyContent(FlexAlign.End)
              .padding({ right: 12 })
            } else {
              // æ‚ æ‚ æ¶ˆæ¯ï¼ˆå·¦ä¾§ï¼‰
              Row() {
                Image($r('app.media.youyou_avatar'))
                  .width(36)
                  .height(36)
                  .borderRadius(18)
                  .margin({ right: 8 })
                
                Text(msg.content)
                  .fontSize(15)
                  .padding(12)
                  .backgroundColor('#F5F5F5')
                  .borderRadius(12)
                  .maxLines(100)
              }
              .width('100%')
              .justifyContent(FlexAlign.Start)
              .padding({ left: 12 })
            }
          })
        }
        .width('100%')
        .padding({ top: 12, bottom: 12 })
      }
      .layoutWeight(1)
      .scrollBar(BarState.Auto)
      .edgeEffect(EdgeEffect.Spring)

      // åº•éƒ¨è¾“å…¥åŒº
      Row({ space: 8 }) {
        // å¿«æ·æŒ‰é’®
        Button('ğŸ“š çŸ¥è¯†')
          .fontSize(14)
          .backgroundColor('#E3F2FD')
          .fontColor('#2196F3')
          .onClick(() => {
            this.sendMessage('æˆ‘æƒ³å­¦ä¹ ä¸€äº›çŸ¥è¯†');
          })
        
        Button('ğŸ“ ä¾‹é¢˜')
          .fontSize(14)
          .backgroundColor('#FFF3E0')
          .fontColor('#FF9800')
          .onClick(() => {
            this.sendMessage('ç»™æˆ‘ä¸€äº›ä¾‹é¢˜');
          })
        
        Button('ğŸ¯ ç»ƒä¹ ')
          .fontSize(14)
          .backgroundColor('#F3E5F5')
          .fontColor('#9C27B0')
          .onClick(() => {
            this.sendMessage('æˆ‘æƒ³åšç»ƒä¹ é¢˜');
          })
      }
      .width('100%')
      .padding({ left: 12, right: 12, top: 8 })

      Row({ space: 8 }) {
        TextInput({ placeholder: 'è¾“å…¥ä½ çš„é—®é¢˜...' })
          .layoutWeight(1)
          .onChange((value: string) => {
            this.inputText = value;
          })
        
        Button('å‘é€')
          .fontSize(14)
          .backgroundColor('#2196F3')
          .fontColor('#FFFFFF')
          .onClick(() => {
            if (this.inputText.length > 0) {
              this.sendMessage(this.inputText);
              this.inputText = '';
            }
          })
      }
      .width('100%')
      .padding(12)
      .backgroundColor('#FFFFFF')
      .shadow({ radius: 2, color: '#10000000', offsetY: -1 })
    }
    .width('100%')
    .height('100%')
    .backgroundColor('#F5F5F5')
  }

  sendMessage(content: string) {
    // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
    const userMsg: Message = {
      id: this.messages.length + 1,
      type: 'user',
      content: content,
      timestamp: Date.now()
    };
    this.messages.push(userMsg);

    // å»¶è¿Ÿæ˜¾ç¤ºæ‚ æ‚ æ­£åœ¨æ€è€ƒ
    setTimeout(() => {
      const thinkingMsg: Message = {
        id: this.messages.length + 1,
        type: 'youyou',
        content: 'æ­£åœ¨æ€è€ƒ... ğŸ¤”',
        timestamp: Date.now()
      };
      this.messages.push(thinkingMsg);

      // æ»šåŠ¨åˆ°åº•éƒ¨
      this.scroller.scrollEdge(Edge.Bottom);

      // ç”Ÿæˆå›ç­”
      setTimeout(() => {
        const answer = YouyouService.generateAnswer(content);
        
        // æ›¿æ¢æ€è€ƒæ¶ˆæ¯ä¸ºçœŸå®å›ç­”
        this.messages.pop();
        const youyouMsg: Message = {
          id: this.messages.length + 1,
          type: 'youyou',
          content: answer,
          timestamp: Date.now()
        };
        this.messages.push(youyouMsg);
        
        // æ»šåŠ¨åˆ°åº•éƒ¨
        this.scroller.scrollEdge(Edge.Bottom);
      }, 800);
    }, 300);
  }
}
```

---

### æ–¹æ¡ˆäºŒï¼šé›†æˆåä¸ºHMS ML Kitï¼ˆæ¨èè¿›é˜¶ï¼‰
**ä¼˜ç‚¹**ï¼šåä¸ºå®˜æ–¹æ”¯æŒã€å¯ç¦»çº¿ã€å‡†ç¡®åº¦é«˜
**ç¼ºç‚¹**ï¼šéœ€è¦é…ç½®HMSã€æœ‰ä¸€å®šå­¦ä¹ æˆæœ¬

#### æ ¸å¿ƒèƒ½åŠ›
1. **æ–‡æœ¬è¯†åˆ«**ï¼šè¯†åˆ«æ‰‹å†™æ•°å­¦å…¬å¼
2. **è‡ªç„¶è¯­è¨€ç†è§£**ï¼šæ›´å‡†ç¡®çš„æ„å›¾è¯†åˆ«
3. **è¯­éŸ³äº¤äº’**ï¼šè¯­éŸ³é—®ç­”

#### é›†æˆæ­¥éª¤
```typescript
// 1. åœ¨ oh-package.json5 æ·»åŠ ä¾èµ–
{
  "dependencies": {
    "@hmscore/hms-ml-vision": "^1.0.0"
  }
}

// 2. ä½¿ç”¨ML Kit NLU
import mlKit from '@hmscore/hms-ml-vision';

// æ–‡æœ¬ç†è§£
const result = mlKit.textUnderstanding.analyze(userInput);
// è·å–æ„å›¾å’Œå®ä½“
```

---

### æ–¹æ¡ˆä¸‰ï¼šé›†æˆäº‘ç«¯AIï¼ˆæœ€å¼ºå¤§ä½†éœ€è”ç½‘ï¼‰
**ä¼˜ç‚¹**ï¼šæœ€æ™ºèƒ½ã€ç†è§£åŠ›æœ€å¼ºã€å¯æ‰©å±•
**ç¼ºç‚¹**ï¼šéœ€è¦ç½‘ç»œã€æœ‰APIæˆæœ¬

#### æ¨èå¹³å°
1. **è®¯é£æ˜Ÿç«**ï¼ˆå›½å†…ï¼Œæ•°å­¦èƒ½åŠ›å¼ºï¼‰
2. **æ–‡å¿ƒä¸€è¨€**ï¼ˆç™¾åº¦ï¼Œå…è´¹é¢åº¦å¤§ï¼‰
3. **é€šä¹‰åƒé—®**ï¼ˆé˜¿é‡Œï¼Œæ€§ä»·æ¯”é«˜ï¼‰

#### å®ç°ç¤ºä¾‹ï¼ˆæ–‡å¿ƒä¸€è¨€ï¼‰
```typescript
// entry/src/main/ets/services/AIService.ets
import http from '@ohos.net.http';

export class AIService {
  private static API_KEY = 'your_api_key';
  private static SECRET_KEY = 'your_secret_key';

  // æ„å»ºçŸ¥è¯†åº“ä¸Šä¸‹æ–‡
  static buildContext(): string {
    return `ä½ æ˜¯ä¸€ä¸ªæ•°å­¦å­¦ä¹ åŠ©æ‰‹"æ‚ æ‚ "ï¼Œè´Ÿè´£è§£ç­”é«˜ç­‰æ•°å­¦é—®é¢˜ã€‚
ä½ æŒæ¡ä»¥ä¸‹çŸ¥è¯†ï¼š
1. å‡½æ•°ä¸æé™ï¼šæé™æ¦‚å¿µã€è¿ç»­æ€§ã€æ— ç©·å°é‡ç­‰
2. å¯¼æ•°ä¸å¾®åˆ†ï¼šå¯¼æ•°å®šä¹‰ã€æ±‚å¯¼æ³•åˆ™ã€éšå‡½æ•°æ±‚å¯¼ç­‰
3. ç§¯åˆ†ï¼šä¸å®šç§¯åˆ†ã€å®šç§¯åˆ†ã€æ¢å…ƒæ³•ã€åˆ†éƒ¨ç§¯åˆ†ç­‰
4. çº§æ•°ï¼šæ­£é¡¹çº§æ•°ã€äº¤é”™çº§æ•°ã€å¹‚çº§æ•°ã€æ³°å‹’çº§æ•°ç­‰
5. å¾®åˆ†æ–¹ç¨‹ï¼šå¯åˆ†ç¦»å˜é‡ã€ä¸€é˜¶çº¿æ€§ã€å¸¸ç³»æ•°çº¿æ€§æ–¹ç¨‹ç­‰

è¯·æ ¹æ®ç”¨æˆ·é—®é¢˜ï¼Œç»™å‡ºå‡†ç¡®ã€æ˜“æ‡‚çš„è§£ç­”ã€‚`;
  }

  static async chat(userMessage: string): Promise<string> {
    // 1. è·å–access_token
    const token = await AIService.getAccessToken();
    
    // 2. è°ƒç”¨æ–‡å¿ƒä¸€è¨€API
    const httpRequest = http.createHttp();
    const response = await httpRequest.request(
      `https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/completions?access_token=${token}`,
      {
        method: http.RequestMethod.POST,
        header: {
          'Content-Type': 'application/json'
        },
        extraData: JSON.stringify({
          messages: [
            {
              role: "system",
              content: AIService.buildContext()
            },
            {
              role: "user",
              content: userMessage
            }
          ]
        })
      }
    );
    
    const result = JSON.parse(response.result.toString());
    return result.result;
  }

  private static async getAccessToken(): Promise<string> {
    // å®ç°tokenè·å–é€»è¾‘
    return 'token';
  }
}
```

---

## ğŸ¨ UI/UXè®¾è®¡å»ºè®®

### 1. æ‚ æ‚ å½¢è±¡è®¾è®¡
- **å¤´åƒ**ï¼šå¯çˆ±çš„æœºå™¨äººæˆ–çŒ«å¤´é¹°ï¼ˆè±¡å¾æ™ºæ…§ï¼‰
- **é…è‰²**ï¼šä¸»è‰²è°ƒè“è‰²ï¼ˆç§‘æŠ€æ„Ÿï¼‰ + æ©™è‰²ï¼ˆæ´»åŠ›ï¼‰
- **è¡¨æƒ…åŒ…**ï¼šæ€è€ƒä¸­ğŸ¤”ã€æç„¶å¤§æ‚ŸğŸ’¡ã€åŠ æ²¹ğŸ’ªç­‰

### 2. äº¤äº’è®¾è®¡
```
é¦–é¡µå…¥å£ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é«˜ç­‰æ•°å­¦               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚å‡½æ•° â”‚  â”‚å¯¼æ•° â”‚  ...  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                         â”‚
â”‚  ğŸ’¬ [æ‚ æ‚ åŠ©æ‰‹] æœ‰é—®é¢˜ï¼Ÿ â”‚  â† æ‚¬æµ®æŒ‰é’®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç‚¹å‡»è¿›å…¥èŠå¤©ç•Œé¢ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† æ‚ æ‚   ğŸ¤–  åœ¨çº¿        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚  [æ‚ æ‚ ] ä½ å¥½ï¼æˆ‘æ˜¯...   â”‚
â”‚                         â”‚
â”‚         [ç”¨æˆ·] ä»€ä¹ˆæ˜¯å¯¼æ•°â”‚
â”‚                         â”‚
â”‚  [æ‚ æ‚ ] å¯¼æ•°æè¿°...     â”‚
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“šçŸ¥è¯†] [ğŸ“ä¾‹é¢˜] [ğŸ¯ç»ƒä¹ ]â”‚
â”‚ [è¾“å…¥æ¡†...] [å‘é€]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. å¿«æ·åŠŸèƒ½
- **æ™ºèƒ½æ¨è**ï¼šæ ¹æ®å½“å‰å­¦ä¹ é¡µé¢æ¨èç›¸å…³é—®é¢˜
- **æ”¶è—åŠŸèƒ½**ï¼šæ”¶è—æœ‰ç”¨çš„å¯¹è¯
- **è¯­éŸ³è¾“å…¥**ï¼šæ”¯æŒè¯­éŸ³æé—®
- **å…¬å¼è¯†åˆ«**ï¼šæ‹ç…§è¯†åˆ«æ•°å­¦å…¬å¼

---

## ğŸ“Š æ•°æ®ç»“æ„è®¾è®¡

### çŸ¥è¯†å›¾è°±
```typescript
// çŸ¥è¯†ç‚¹å…³ç³»
export interface KnowledgeGraph {
  nodes: KnowledgeNode[];
  edges: KnowledgeEdge[];
}

export interface KnowledgeNode {
  id: string;
  name: string;
  level: number; // éš¾åº¦ç­‰çº§
  prerequisite: string[]; // å‰ç½®çŸ¥è¯†
}

export interface KnowledgeEdge {
  from: string;
  to: string;
  relation: string; // "å‰ç½®", "ç›¸å…³", "åº”ç”¨"
}

// ç¤ºä¾‹
const mathGraph: KnowledgeGraph = {
  nodes: [
    { id: "limit", name: "æé™", level: 1, prerequisite: [] },
    { id: "derivative", name: "å¯¼æ•°", level: 2, prerequisite: ["limit"] },
    { id: "integral", name: "ç§¯åˆ†", level: 3, prerequisite: ["derivative"] }
  ],
  edges: [
    { from: "limit", to: "derivative", relation: "å‰ç½®" },
    { from: "derivative", to: "integral", relation: "å‰ç½®" }
  ]
};
```

### ç”¨æˆ·å­¦ä¹ è®°å½•
```typescript
export interface UserProgress {
  userId: string;
  completedTopics: string[];
  weakPoints: string[];
  questionHistory: QuestionRecord[];
  learningPath: string[];
}

export interface QuestionRecord {
  questionId: string;
  correct: boolean;
  attempts: number;
  timestamp: number;
}
```

---

## ğŸš€ å®æ–½è·¯çº¿å›¾

### ç¬¬ä¸€é˜¶æ®µï¼ˆ2å‘¨ï¼‰ï¼šåŸºç¡€ç‰ˆæœ¬
âœ… çŸ¥è¯†åº“JSONæ„å»ºï¼ˆä»62ä¸ªé¡µé¢æå–ï¼‰
âœ… å…³é”®è¯åŒ¹é…æœç´¢å¼•æ“
âœ… åŸºç¡€èŠå¤©UI
âœ… å¿«æ·æŒ‰é’®ï¼ˆçŸ¥è¯†ã€ä¾‹é¢˜ã€ç»ƒä¹ ï¼‰

### ç¬¬äºŒé˜¶æ®µï¼ˆ2å‘¨ï¼‰ï¼šæ™ºèƒ½å¢å¼º
âœ… NLPæ„å›¾è¯†åˆ«
âœ… ç›¸å…³æ¨èç®—æ³•
âœ… å­¦ä¹ è·¯å¾„è§„åˆ’
âœ… é”™é¢˜æœ¬åŠŸèƒ½

### ç¬¬ä¸‰é˜¶æ®µï¼ˆ3å‘¨ï¼‰ï¼šé«˜çº§åŠŸèƒ½
âœ… è¯­éŸ³äº¤äº’
âœ… å…¬å¼è¯†åˆ«
âœ… çŸ¥è¯†å›¾è°±å¯è§†åŒ–
âœ… ä¸ªæ€§åŒ–æ¨è

### ç¬¬å››é˜¶æ®µï¼ˆæŒ‰éœ€ï¼‰ï¼šäº‘ç«¯å‡çº§
âœ… æ¥å…¥AIå¤§æ¨¡å‹
âœ… å¤šç”¨æˆ·æ•°æ®åˆ†æ
âœ… ç¤¾åŒºé—®ç­”

---

## ğŸ’° æˆæœ¬ä¼°ç®—

### æ–¹æ¡ˆä¸€ï¼ˆæœ¬åœ°ï¼‰
- å¼€å‘æˆæœ¬ï¼š1-2å‘¨äººåŠ›
- è¿è¥æˆæœ¬ï¼š0å…ƒ
- æ€§èƒ½ï¼šå“åº” < 100ms

### æ–¹æ¡ˆäºŒï¼ˆHMS ML Kitï¼‰
- å¼€å‘æˆæœ¬ï¼š2-3å‘¨äººåŠ›
- è¿è¥æˆæœ¬ï¼šå…è´¹é¢åº¦ + è¶…å‡ºéƒ¨åˆ†æŒ‰é‡è®¡è´¹
- æ€§èƒ½ï¼šå“åº” < 200ms

### æ–¹æ¡ˆä¸‰ï¼ˆäº‘ç«¯AIï¼‰
- å¼€å‘æˆæœ¬ï¼š1å‘¨äººåŠ›ï¼ˆè°ƒç”¨APIï¼‰
- è¿è¥æˆæœ¬ï¼š
  - æ–‡å¿ƒä¸€è¨€ï¼šå‰æœŸå…è´¹é¢åº¦å¤§
  - è®¯é£æ˜Ÿç«ï¼šæŒ‰tokenè®¡è´¹ï¼Œçº¦0.01å…ƒ/æ¬¡
  - é€šä¹‰åƒé—®ï¼šæ–°ç”¨æˆ·æœ‰å…è´¹é¢åº¦
- æ€§èƒ½ï¼šå“åº” 500ms - 2s

---

## ğŸ¯ æ¨èå®æ–½æ–¹æ¡ˆ

**èµ·æ­¥é˜¶æ®µ**ï¼šæ–¹æ¡ˆä¸€ï¼ˆæœ¬åœ°çŸ¥è¯†åº“ï¼‰
- å¿«é€Ÿä¸Šçº¿ï¼ŒéªŒè¯ç”¨æˆ·éœ€æ±‚
- é›¶è¿è¥æˆæœ¬
- å®Œå…¨å¯æ§

**æˆé•¿é˜¶æ®µ**ï¼šæ–¹æ¡ˆä¸€ + æ–¹æ¡ˆä¸‰ï¼ˆæ··åˆæ¨¡å¼ï¼‰
- ç®€å•é—®é¢˜ï¼šæœ¬åœ°å›ç­”
- å¤æ‚é—®é¢˜ï¼šè°ƒç”¨äº‘ç«¯AI
- å¹³è¡¡æˆæœ¬å’Œä½“éªŒ

**æˆç†Ÿé˜¶æ®µ**ï¼šæ–¹æ¡ˆä¸‰ + è‡ªè®­ç»ƒæ¨¡å‹
- æ”¶é›†ç”¨æˆ·é—®ç­”æ•°æ®
- è®­ç»ƒä¸“å±æ•°å­¦åŠ©æ‰‹æ¨¡å‹
- æä¾›æœ€ä½³ä½“éªŒ

---

## ğŸ“ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **ç«‹å³å¯åš**ï¼š
   - è®¾è®¡æ‚ æ‚ å½¢è±¡å’ŒUIåŸå‹
   - ä»ç°æœ‰62ä¸ªé¡µé¢æå–çŸ¥è¯†ç‚¹
   - æ„å»ºåˆç‰ˆçŸ¥è¯†åº“JSON

2. **æœ¬å‘¨å®Œæˆ**ï¼š
   - å®ç°åŸºç¡€èŠå¤©UI
   - å®ç°å…³é”®è¯åŒ¹é…æœç´¢
   - æ·»åŠ å¿«æ·æŒ‰é’®

3. **æœ¬æœˆç›®æ ‡**ï¼š
   - å®Œæˆæ–¹æ¡ˆä¸€å…¨éƒ¨åŠŸèƒ½
   - å†…æµ‹æ”¶é›†åé¦ˆ
   - ä¼˜åŒ–çŸ¥è¯†åº“

---

## ğŸ”— å‚è€ƒèµ„æº

- [é¸¿è’™å¼€å‘æ–‡æ¡£](https://developer.harmonyos.com/)
- [HMS ML Kit](https://developer.huawei.com/consumer/cn/hms/huawei-mlkit/)
- [æ–‡å¿ƒä¸€è¨€API](https://cloud.baidu.com/product/wenxinworkshop)
- [è®¯é£æ˜Ÿç«API](https://www.xfyun.cn/doc/spark/Web.html)

---

**è®¾è®¡è€…**ï¼šAIç¼–ç¨‹åŠ©æ‰‹  
**æ›´æ–°æ—¶é—´**ï¼š2025-11-19  
**ç‰ˆæœ¬**ï¼šv1.0
